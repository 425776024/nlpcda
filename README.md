# NLP Chinese Data Augmentation ä¸€é”®ä¸­æ–‡æ•°æ®å¢å¼ºå·¥å…·

ä½¿ç”¨ï¼š`pip install nlpcda`

å¼€æºä¸æ˜“ï¼Œæ¬¢è¿ starğŸŒŸ

pypi:https://pypi.org/project/nlpcda/

---

## ä»‹ç»

ä¸€é”®ä¸­æ–‡æ•°æ®å¢å¼ºå·¥å…·ï¼Œæ”¯æŒï¼š
- [1.éšæœºå®ä½“æ›¿æ¢](#1éšæœºç­‰ä»·å®ä½“æ›¿æ¢)
- [2.è¿‘ä¹‰è¯](#2éšæœºåŒä¹‰è¯æ›¿æ¢)
- [3.è¿‘ä¹‰è¿‘éŸ³å­—æ›¿æ¢](#3éšæœºè¿‘ä¹‰å­—æ›¿æ¢)
- [4.éšæœºå­—åˆ é™¤ï¼ˆå†…éƒ¨ç»†èŠ‚ï¼šæ•°å­—æ—¶é—´æ—¥æœŸç‰‡æ®µï¼Œå†…å®¹ä¸ä¼šåˆ ï¼‰](#4éšæœºå­—åˆ é™¤)
- [5.NERç±» `BIO` æ•°æ®å¢å¼º](#5nerå‘½åå®ä½“-æ•°æ®å¢å¼º)
- [6.éšæœºç½®æ¢é‚»è¿‘çš„å­—ï¼š**ç ”è¡¨ç©¶æ˜ï¼Œæ±‰å­—åºé¡ºå¹¶ä¸å®šä¸€å½±å“æ–‡å­—çš„é˜…è¯»ç†è§£**<<æ˜¯ä¹±åºçš„](#6éšæœºç½®æ¢é‚»è¿‘çš„å­—)
- [7.ä¸­æ–‡ç­‰ä»·å­—æ›¿æ¢ï¼ˆ1	ä¸€	å£¹	â‘ ï¼Œ2	äºŒ	è´°	â‘¡ï¼‰](#7ç­‰ä»·å­—æ›¿æ¢)
- [8.ç¿»è¯‘äº’è½¬å®ç°çš„å¢å¼º](#8ç¿»è¯‘äº’è½¬å®ç°çš„å¢å¼º)
- [9.ä½¿ç”¨`simbert`åšç”Ÿæˆå¼ç›¸ä¼¼å¥ç”Ÿæˆ](#9simbert)
- [10.Cluster2Clusterç”Ÿæˆæ›´å¤šæ ·åŒ–çš„æ–°æ•°æ®](#10Cluster2Cluster)

`ç»è¿‡ç»†èŠ‚ç‰¹æ®Šå¤„ç†ï¼Œæ¯”å¦‚ä¸æ”¹å˜å¹´æœˆæ—¥æ•°å­—ï¼Œå°½é‡ä¿è¯ä¸æ”¹å˜åŸæ–‡è¯­ä¹‰ã€‚å³ä½¿æ”¹å˜ä¹Ÿèƒ½è¢«çŒœå‡ºæ¥ã€èƒ½è¢«çŒœå‡ºæ¥ã€èƒ½è¢«è¸©å‡ºæ¥ã€èƒ½è¢«èœç²—æ¥ã€è¢«èœç²—ã€èƒ½èœç²—æ¥`

## è®¡åˆ’ä¸­çš„æœªæ¥å†…å®¹
- å¢åŠ å¤šçº¿ç¨‹æ“ä½œï¼Œä¸€é”®æ“ä½œ
- [ä½¿ç”¨ WordNetæ•°æ®åº“ æ¥åšåŒä¹‰è¯æ›¿æ¢](http://openkg.cn/dataset/chinese-wordnet)
- éšæœºå™ªå£°æ³¨å…¥ï¼Ÿéšæœºæ’å…¥ä¸€äº›å­—ç¬¦ï¼Œå¤ªç®€å•å®ç°äº†ã€‚
- åˆ©ç”¨pingyinï¼Ÿ[https://github.com/mozillazg/python-pinyin](https://github.com/mozillazg/python-pinyin) 
- åŸºäºWord2Vecã€BERTç­‰è¯å‘é‡çš„è¯è¯­è¿‘è·ç¦»çš„æ›¿æ¢ã€MASKçŒœæµ‹ç½®æ¢ ï¼Ÿï¼Ÿä½†æ˜¯æ— æ³•æ§åˆ¶å®ƒç”Ÿæˆï¼Œä»¥åŠç¼ºç‚¹MASKä½ç½®ã€‚
- å¼•å…¥TF-IDFã€TextRankã€å…³é”®è¯å­—å…¸ç­‰ï¼Œå¯ä»¥é€‰æ‹©ï¼šæ›¿æ¢/ä¸æ›¿æ¢å…³é”®è¯ ï¼Ÿï¼Ÿ

## æ„ä¹‰
- åœ¨ä¸æ”¹å˜åŸæ–‡è¯­ä¹‰çš„æƒ…å†µä¸‹ï¼Œç”ŸæˆæŒ‡å®šæ•°é‡çš„è®­ç»ƒè¯­æ–™æ–‡æœ¬
- å¯¹NLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å¯¹æŠ—æ”»å‡»ã€å¹²æ‰°æ³¢åŠ¨ï¼Œæœ‰å¾ˆå¥½çš„æå‡ä½œç”¨
- å‚è€ƒæ¯”èµ›(æœ¬äººç”¨æ­¤ç­–ç•¥+base bertæ‹¿åˆ°ï¼š50+-/1000)ï¼šhttps://www.biendata.com/competition/2019diac/

> âš ï¸ å•çº¯åˆ·å‡†ç¡®ç‡åˆ†æ•°çš„æ¯”èµ›ï¼Œç”¨æ­¤åŒ…ä¸€èˆ¬ä¸ä¼šæœ‰åˆ†æ•°æå‡



---
## API

### 1.éšæœº(ç­‰ä»·)å®ä½“æ›¿æ¢

å‚æ•°ï¼š
- base_file ï¼šç¼ºçœæ—¶ä½¿ç”¨å†…ç½®ï¼ˆå…¬å¸ï¼‰å®ä½“ã€‚å¯¹å…¬å¸å®ä½“è¿›è¡Œæ›¿æ¢
    > æ˜¯æ–‡æœ¬æ–‡ä»¶è·¯å¾„ï¼Œå†…å®¹å½¢å¦‚ï¼š\
    > å®ä½“1\
    > å®ä½“2\
    > ...\
    > å®ä½“n
- create_num=3 ï¼šè¿”å›æœ€å¤š3ä¸ªå¢å¼ºæ–‡æœ¬
- change_rate=0.3 ï¼š æ–‡æœ¬æ”¹å˜ç‡
- seed ï¼š éšæœºç§å­

```python
from nlpcda import Randomword

test_str = '''è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»'''

smw = Randomword(create_num=3, change_rate=0.3)
rs1 = smw.replace(test_str)

print('éšæœºå®ä½“æ›¿æ¢>>>>>>')
for s in rs1:
    print(s)
'''
éšæœºå®ä½“æ›¿æ¢>>>>>>
è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
è¿™æ˜¯ä¸ªå®ä½“ï¼šé•¿å…´å›½é™…ï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
è¿™æ˜¯ä¸ªå®ä½“ï¼šæµ™æ±Ÿä¸–å®ï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
'''

```

### 2.éšæœºåŒä¹‰è¯æ›¿æ¢
å‚æ•°ï¼š
- base_file ï¼šç¼ºçœæ—¶ä½¿ç”¨å†…ç½®åŒä¹‰è¯è¡¨ï¼Œä½ å¯ä»¥è®¾å®š/è‡ªå·±æŒ‡å®šæ›´åŠ ä¸°å¯Œçš„åŒä¹‰è¯è¡¨ï¼š
    > æ˜¯æ–‡æœ¬æ–‡ä»¶è·¯å¾„ï¼Œå†…å®¹å½¢å¦‚ï¼ˆç©ºæ ¼éš”å¼€ï¼‰ï¼š\
    > Aa01A0 äººç±» ç”Ÿäºº å…¨äººç±»\
    > id2 åŒä¹‰è¯b1 åŒä¹‰è¯b2 ... åŒä¹‰è¯bk\
    > ...\
    > idn åŒä¹‰è¯n1 åŒä¹‰è¯n2\
- create_num=3 ï¼šè¿”å›æœ€å¤š3ä¸ªå¢å¼ºæ–‡æœ¬
- change_rate=0.3 ï¼š æ–‡æœ¬æ”¹å˜ç‡
- seed ï¼š éšæœºç§å­

```python
from nlpcda import Similarword

test_str = '''è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»'''

smw = Similarword(create_num=3, change_rate=0.3)
rs1 = smw.replace(test_str)

print('éšæœºåŒä¹‰è¯æ›¿æ¢>>>>>>')
for s in rs1:
    print(s)

'''
éšæœºåŒä¹‰è¯æ›¿æ¢>>>>>>
è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°é‡å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›æ–¯nlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
'''


```

### 3.éšæœºè¿‘ä¹‰å­—æ›¿æ¢
å‚æ•°ï¼š
- base_file ï¼šç¼ºçœæ—¶ä½¿ç”¨å†…ç½®ã€åŒä¹‰åŒéŸ³å­—è¡¨ã€‘ï¼Œä½ å¯ä»¥è®¾å®š/è‡ªå·±æŒ‡å®šæ›´åŠ ä¸°å¯Œçš„åŒä¹‰åŒéŸ³å­—è¡¨ï¼š
    > æ˜¯æ–‡æœ¬æ–‡ä»¶è·¯å¾„ï¼Œå†…å®¹å½¢å¦‚ï¼ˆ\téš”å¼€ï¼‰ï¼š\
    > de	çš„	åœ°	å¾—	å¾·	å˜š	å¾³	é”	è„¦	æ‚³	æ·‚	é€	æƒª	æ´	æ£\
    > æ‹¼éŸ³2 å­—b1 å­—b2 ... å­—bk\
    > ...\
    > æ‹¼éŸ³n å­—n1 å­—n2\
- create_num=3 ï¼šè¿”å›æœ€å¤š3ä¸ªå¢å¼ºæ–‡æœ¬
- change_rate=0.3 ï¼š æ–‡æœ¬æ”¹å˜ç‡
- seed ï¼š éšæœºç§å­
```python
from nlpcda import Homophone

test_str = '''è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»'''

smw = Homophone(create_num=3, change_rate=0.3)
rs1 = smw.replace(test_str)

print('éšæœºè¿‘ä¹‰å­—æ›¿æ¢>>>>>>')
for s in rs1:
    print(s)

'''
éšæœºè¿‘ä¹‰å­—æ›¿æ¢>>>>>>
è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¡«æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”ç—•å¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
é·“æ˜¯ä¸ªå®ä½“ï¼š58åŒä¹˜ï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©è¿„æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå„«ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼ŒçŠæœ‰æ•ˆå¢ç‰†NLPæ¨¡å‹çš„æ©åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
'''

```

### 4.éšæœºå­—åˆ é™¤
å‚æ•°ï¼š
- create_num=3 ï¼šè¿”å›æœ€å¤š3ä¸ªå¢å¼ºæ–‡æœ¬
- change_rate=0.3 ï¼š æ–‡æœ¬æ”¹å˜ç‡
- seed ï¼š éšæœºç§å­
```python
from nlpcda import RandomDeleteChar

test_str = '''è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»'''

smw = RandomDeleteChar(create_num=3, change_rate=0.3)
rs1 = smw.replace(test_str)

print('éšæœºå­—åˆ é™¤>>>>>>')
for s in rs1:
    print(s)

'''
éšæœºå­—åˆ é™¤>>>>>>
è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—
ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—
'''

```

### 5.NERå‘½åå®ä½“ æ•°æ®å¢å¼º
è¾“å…¥æ ‡æ³¨å¥½çš„NERæ•°æ®ç›®å½•ï¼Œå’Œéœ€è¦å¢å¼ºçš„æ ‡æ³¨æ–‡ä»¶è·¯å¾„ï¼Œå’Œå¢å¼ºçš„æ•°é‡ï¼Œå³å¯ä¸€é”®å¢å¼º

Nerç±»å‚æ•°ï¼š
- ner_dir_name='ner_data' : åœ¨neræ•°æ®æ”¾åœ¨ner_dataç›®å½•ä¸‹ï¼ˆé‡Œé¢å¾ˆå¤š.txtï¼‰
- ner_dir_nameæä¾›çš„ç›®å½•ä¸‹æ˜¯å„ç§æ ‡æ³¨æ•°æ®æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä»¥æ ‡å‡†çš„NER çš„BIOæ ¼å¼åˆ†å¼€ï¼š
> å­—1 \t TAG
>
> åŒ— \t B-LOC
>
> äº¬ \t I-LOC
>
> ä»Š \t O
>
> å¤© \t O
>
> å¾ˆ \t O
>
> çƒ­ \t O
>
> ã€‚ \t O
- ignore_tag_list=['O'] : æ•°æ®é‡Œé¢Oæ ‡ç­¾çš„ä¸éœ€è¦ç®¡
- data_augument_tag_list=['P', 'LOC'] : åªå¯¹Pã€LOCæ ‡ç­¾çš„å®ä½“åšå¢å¼º
- augument_size=3 : æ¯æ¡æ ‡æ³¨æ•°æ®ï¼Œæœ€å¤šæ–°å¢å¼ºæ•°é‡
- seed=0 : éšæœºç§å­/ å¯ç¼ºçœ

è°ƒç”¨å‡½æ•°augment()å‚æ•°
- file_name: 1æ¡æ ‡æ³¨è®­ç»ƒæ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚0.txt
- ner.augment(file_name='0.txt')

ä¾‹å­ï¼š
```python
from nlpcda import Ner

ner = Ner(ner_dir_name='ner_data',
        ignore_tag_list=['O'],
        data_augument_tag_list=['P', 'LOC','ORG'],
        augument_size=3, seed=0)
data_sentence_arrs, data_label_arrs = ner.augment(file_name='0.txt')
# 3æ¡å¢å¼ºåçš„å¥å­ã€æ ‡ç­¾ æ•°æ®ï¼Œlen(data_sentence_arrs)==3
# ä½ å¯ä»¥å†™æ–‡ä»¶è¾“å‡ºå‡½æ•°ï¼Œç”¨äºå†™å‡ºï¼Œä½œä¸ºåç»­è®­ç»ƒç­‰
print(data_sentence_arrs, data_label_arrs)
```

### 6.éšæœºç½®æ¢é‚»è¿‘çš„å­—
- char_gram=3ï¼šæŸä¸ªå­—åªå’Œé‚»è¿‘çš„3ä¸ªå­—äº¤æ¢
- å†…éƒ¨ç»†èŠ‚ï¼šé‡åˆ°æ•°å­—ï¼Œç¬¦å·ç­‰éä¸­æ–‡ï¼Œä¸ä¼šäº¤æ¢
```python
from nlpcda import CharPositionExchange

ts = '''è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»'''
smw = CharPositionExchange(create_num=3, change_rate=0.3,char_gram=3,seed=1)
rs=smw.replace(ts)
for s in rs:
    print(s)

'''
è¿™æ˜¯ä¸ªå®ä½“ï¼š58åŒåŸï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œä¸å·®ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œç”¨äºæ–¹ä¾¿ä¸€é”®æ•°æ®å¢å¼ºï¼Œå¯æœ‰æ•ˆå¢å¼ºNLPæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€å‡å°‘æ³¢åŠ¨ã€æŠµæŠ—å¯¹æŠ—æ”»å‡»
è¿™å®ä¸ªæ˜¯ä½“ï¼š58åŸåŒï¼›ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½ï¼Œå·®ä¸ï¼›è¿™ä¸ªnlpcadåŒ…ï¼Œä¾¿ç”¨ä¸€æ•°æ–¹å¢é”®å¼ºæ®äºï¼Œå¢æœ‰æ•ˆå¯å¼ºNLPæ¨¡å‹æ€§æ³›åŒ–çš„èƒ½ã€åŠ¨å°‘å‡æ³¢ã€æŠµå¯¹æ”»æŠ—æŠ—å‡»
è¿™æ˜¯ä¸ªä½“å®ï¼š58åŸåŒï¼›ä»Šæ˜¯å¤©2020å¹´3æœˆ8æ—¥11:40ï¼Œæœ—æ°”æ™´å¤©ï¼Œå¤©æ°”å¾ˆé”™ä¸ï¼Œç©ºå¥½å¾ˆæ°”ï¼Œä¸å·®ï¼›ä¸ªè¿™nlpcadåŒ…ï¼Œæ–¹ä¾¿é”®ä¸€æ®å¢ç”¨æ•°äºå¼ºï¼Œå¯æœ‰æ•ˆå¼ºå¢NLPæ¨¡å‹çš„æ€§åŒ–æ³›èƒ½ã€åŠ¨å‡æ³¢å°‘ã€æŠ—æŠ—å‡»æŠµå¯¹æ”»
'''

```

### 7.ç­‰ä»·å­—æ›¿æ¢
å‚æ•°ï¼š
- base_file ï¼šç¼ºçœæ—¶ä½¿ç”¨å†…ç½®ã€ç­‰ä»·æ•°å­—å­—è¡¨ã€‘ï¼Œä½ å¯ä»¥è®¾å®š/è‡ªå·±æŒ‡å®šæ›´åŠ ä¸°å¯Œçš„ç­‰ä»·å­—è¡¨(æˆ–è€…ä½¿ç”¨å‡½æ•°ï¼šadd_equivalent_list)ï¼š
    > æ˜¯æ–‡æœ¬æ–‡ä»¶è·¯å¾„ï¼Œå†…å®¹å½¢å¦‚ï¼ˆ(\t)éš”å¼€ï¼‰ï¼š\
    > 0	é›¶	ã€‡\
    > 1	ä¸€	å£¹	â‘ \
    > ...\
    > 9	ä¹	ç–	â‘¨
- create_num=3 ï¼šè¿”å›æœ€å¤š3ä¸ªå¢å¼ºæ–‡æœ¬
- change_rate=0.3 ï¼š æ–‡æœ¬æ”¹å˜ç‡
- seed ï¼š éšæœºç§å­
```python
from nlpcda import EquivalentChar

test_str = '''ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ã€‚'''

s = EquivalentChar(create_num=3, change_rate=0.3)
# æ·»åŠ ç­‰ä»·å­—
s.add_equivalent_list(['çœ‹', 'ç…'])
res=s.replace(test_str)
print('ç­‰ä»·å­—æ›¿æ¢>>>>>>')
for s in res:
    print(s)

'''
ç­‰ä»·å­—æ›¿æ¢>>>>>>
ä»Šå¤©æ˜¯2020å¹´3æœˆ8æ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ã€‚
ä»Šå¤©æ˜¯äºŒã€‡2ã€‡å¹´3æœˆå…«æ—¥1â‘ :4ã€‡ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ã€‚
ä»Šå¤©æ˜¯äºŒ0è´°é›¶å¹´3æœˆæŒæ—¥11:40ï¼Œå¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™
'''

```

### æ·»åŠ è‡ªå®šä¹‰è¯å…¸
ç”¨äºä½¿ç”¨ä¹‹å‰ï¼Œå¢åŠ åˆ†è¯æ•ˆæœ
```python
from nlpcda import Randomword
from nlpcda import Similarword
from nlpcda import Homophone
from nlpcda import RandomDeleteChar
from nlpcda import Ner
from nlpcda import CharPositionExchange

Randomword.add_word('å°æ˜')
Randomword.add_words(['å°æ˜','å°ç™½','å¤©åœ°è‰¯å¿ƒ'])
# Similarwordï¼ŒHomophoneï¼ŒRandomDeleteChar åŒä¸Š

```


### 8.ç¿»è¯‘äº’è½¬å®ç°çš„å¢å¼º
1.ç™¾åº¦ä¸­è‹±ç¿»è¯‘äº’è½¬å®ç°çš„å¢å¼º
note:

> ç”³è¯·ä½ çš„ appidã€secretKey: http://api.fanyi.baidu.com/api/trans
>
```python
from nlpcda import baidu_translate

zh = 'å¤©æ°”æ™´æœ—ï¼Œå¤©æ°”å¾ˆä¸é”™ï¼Œç©ºæ°”å¾ˆå¥½'
# ç”³è¯·ä½ çš„ appidã€secretKey
# ä¸¤éæ´—æ•°æ®æ³•ï¼ˆå›æ¥çš„ä¸­æ–‡ä¸€èˆ¬å’ŒåŸæ¥ä¸ä¸€æ ·ï¼Œè¦æ˜¯ä¸€æ ·ï¼Œå°±ä¸è¦äº†ï¼Œé è¿æ°”ï¼Ÿï¼‰
en_s = baidu_translate(content=zh, appid='xxx', secretKey='xxx',t_from='zh', t_to='en')
zh_s = baidu_translate(content=en_s, appid='xxx', secretKey='xxx',t_from='en', t_to='zh')
print(zh_s)

```

2.è°·æ­Œç¿»è¯‘äº’è½¬å®ç°çš„å¢å¼º

pip åŒ…ï¼š[py-googletrans](https://py-googletrans.readthedocs.io/en/latest/)

å…è´¹çš„è°·æ­Œç¿»è¯‘APIï¼Œéœ€è¦ç¿»å¢™ä¸”ä¸ç¨³å®š

[https://py-googletrans.readthedocs.io/en/latest](https://py-googletrans.readthedocs.io/en/latest)

pip install googletrans
```python
from googletrans import Translator
def googletrans(content='ä¸€ä¸ªå…è´¹çš„è°·æ­Œç¿»è¯‘API', t_from='zh-cn', t_to='en'):
    translator = Translator()
    s = translator.translate(text=content, dest=t_to,src=t_from)
    return s.text

```



### 9.simbert
[æ¥æºï¼šhttps://github.com/ZhuiyiTechnology/pretrained-models](https://github.com/ZhuiyiTechnology/pretrained-models)

[å‚è€ƒï¼šhttps://github.com/ZhuiyiTechnology/simbert](https://github.com/ZhuiyiTechnology/simbert)

ä¸‹è½½å…¶ä¸­ä»»æ„æ¨¡å‹ï¼Œè§£å‹åˆ°ä»»æ„ä½ç½®èµ‹å€¼ç»™`model_path`å˜é‡ï¼š

| åç§°           | è®­ç»ƒæ•°æ®å¤§å° | è¯è¡¨å¤§å° | æ¨¡å‹å¤§å° | ä¸‹è½½åœ°å€ |
| :----------:  |:---------:| :------: | :------: | :------: |
| SimBERT Tiny  | 2200ä¸‡ç›¸ä¼¼å¥ç»„  | 13685   | 26MB   | [ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1z_agqTuBTuyHANwrS-gPcg)(1tp7) |
| SimBERT Small |  2200ä¸‡ç›¸ä¼¼å¥ç»„ | 13685  | 49MB  | [ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1kq_EQDI0gpiZBLFd_AxwrA)(nu67) |
| SimBERT Base  |  2200ä¸‡ç›¸ä¼¼å¥ç»„ | 13685  | 344MB | [ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1uGfQmX1Kxcv_cXTVsvxTsQ)(6xhq) |

å‚æ•°ï¼š
- configï¼šmodel_pathï¼ˆä¸Šè¿°ä¸‹è½½çš„æ¨¡å‹ä½ç½®ï¼‰ï¼Œè®¾å¤‡ï¼ˆcpu/cuda...ï¼‰ã€æœ€å¤§é•¿åº¦ã€éšæœºç§å­
- sentï¼šéœ€è¦å¢å¼ºçš„å¥å­
- create_numï¼šæ„é€ çš„å¥å­æ•°é‡
```python
from nlpcda import Simbert
config = {
        'model_path': '/xxxx/chinese_simbert_L-12_H-768_A-12',
        'CUDA_VISIBLE_DEVICES': '0,1',
        'max_len': 32,
        'seed': 1
}
simbert = Simbert(config=config)
sent = 'æŠŠæˆ‘çš„ä¸€ä¸ªäº¿å­˜é“¶è¡Œå®‰å…¨å—'
synonyms = simbert.replace(sent=sent, create_num=5)
print(synonyms)
'''
[('æˆ‘çš„ä¸€ä¸ªäº¿ï¼Œå­˜é“¶è¡Œï¼Œå®‰å…¨å—', 0.9871675372123718), 
('æŠŠä¸€ä¸ªäº¿å­˜åˆ°é“¶è¡Œé‡Œå®‰å…¨å—', 0.9352194666862488), 
('ä¸€ä¸ªäº¿å­˜é“¶è¡Œå®‰å…¨å—', 0.9330801367759705), 
('ä¸€ä¸ªäº¿çš„å­˜æ¬¾å­˜é“¶è¡Œå®‰å…¨å—', 0.92387855052948),
 ('æˆ‘çš„ä¸€åƒä¸‡å­˜åˆ°é“¶è¡Œå®‰ä¸å®‰å…¨', 0.9014463424682617)]
'''


```

### 10.Cluster2Cluster
- å‚è€ƒï¼š[æ•°æ®å¢å¼ºæ²¡æ•ˆæœï¼Ÿè¯•è¯•ç”¨Cluster-to-Clusterç”Ÿæˆæ›´å¤šæ ·åŒ–çš„æ–°æ•°æ®å§](https://mp.weixin.qq.com/s/JP9xyclDfV1wHJkgGPKQ8A)

WIP


